# -----------------------------------------------------------------------------
# prod環境 変数値 (サンプル)
# このファイルをterraform.tfvarsにコピーして実際の値を設定してください
# -----------------------------------------------------------------------------

# 基本情報
environment = "prod"
region      = "ap-northeast-1"

# ネットワーク
vpc_id                    = "vpc-xxxxxxxxx"
vpc_cidr                  = "10.0.0.0/16"
lambda_subnet_cidrs       = ["10.0.10.0/24", "10.0.11.0/24", "10.0.12.0/24"]
vpc_endpoint_subnet_cidrs = ["10.0.20.0/24", "10.0.21.0/24", "10.0.22.0/24"]
private_route_table_ids   = ["rtb-xxxxxxxx"]

# Aurora
aurora_sg_id              = "sg-xxxxxxxxx"
aurora_port               = 5432
aurora_monitoring_role_arn = "arn:aws:iam::123456789012:role/rds-monitoring-role"

# ROSA
worker_node_sg_id     = "sg-xxxxxxxxx"
rosa_pod_iam_role_arn = "arn:aws:iam::123456789012:role/ProjectL-rosa-pod-role"

# Processor1設定
processor1_secrets_name = "projectl-prod-processor1-secrets"
# デフォルト値を使用する場合は以下をコメントアウト
# processor1_runtime                        = "nodejs20.x"
# processor1_handler                        = "index.handler"
# processor1_source_dir                     = "lambda-functions/processor1"
# processor1_memory_size                    = 128
# processor1_timeout                        = 30
# processor1_description                    = "SQS processor 1 (Node.js)"
# processor1_sqs_message_retention_seconds  = 345600
# processor1_sqs_visibility_timeout_seconds = 30
# processor1_sqs_max_receive_count          = 3
# processor1_sqs_batch_size                 = 10
# processor1_sqs_maximum_concurrency        = 10
# processor1_cloudwatch_logs_retention_days = 90

# Processor2設定
processor2_secrets_name = "projectl-prod-processor2-secrets"
# デフォルト値を使用する場合は以下をコメントアウト
# processor2_runtime                        = "python3.9"
# processor2_handler                        = "lambda_function.lambda_handler"
# processor2_source_dir                     = "lambda-functions/processor2"
# processor2_memory_size                    = 256
# processor2_timeout                        = 60
# processor2_description                    = "SQS processor 2 (Python)"
# processor2_sqs_message_retention_seconds  = 345600
# processor2_sqs_visibility_timeout_seconds = 30
# processor2_sqs_max_receive_count          = 3
# processor2_sqs_batch_size                 = 10
# processor2_sqs_maximum_concurrency        = 10
# processor2_cloudwatch_logs_retention_days = 90

# KMS (SQS暗号化用)
kms_key_deletion_window_in_days = 30
kms_key_enable_rotation         = true
kms_key_description             = "KMS key for SQS encryption"

# S3 (Lambda出力用)
s3_lambda_output_versioning_enabled = true # 本番環境はバージョニング有効化推奨
s3_lambda_output_lifecycle_rules    = []
# ライフサイクルルール例:
# s3_lambda_output_lifecycle_rules = [
#   {
#     id      = "expire-old-files"
#     enabled = true
#     expiration = {
#       days = 90
#     }
#   }
# ]
